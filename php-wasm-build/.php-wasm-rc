#!/usr/bin/env php-wasm

# Absolute minimum PHP WASM build for Cloudflare Workers.
# No extensions — just the bare PHP interpreter.

PHP_VERSION=8.2

# Static linking only — no dynamic library support.
# Produces a single .wasm file with everything baked in.
MAIN_MODULE=0

# Maximum size optimization
OPTIMIZE=z

# Async support (needed for CGI request handling)
ASYNCIFY=1

# No debug overhead
ASSERTIONS=0
SYMBOLS=0
WITH_SOURCEMAPS=0

# Compression
GZIP=1

# ── Extensions: ALL disabled ──

WITH_BCMATH=0
WITH_CALENDAR=0
WITH_CTYPE=0
WITH_EXIF=0
WITH_FILTER=0
WITH_TOKENIZER=0
WITH_VRZNO=0

WITH_PHAR=0
WITH_LIBXML=0
WITH_DOM=0
WITH_XML=0
WITH_SIMPLEXML=0
WITH_ICONV=0
WITH_SQLITE=0
WITH_LIBZIP=0
WITH_ZLIB=0
WITH_GD=0
WITH_LIBPNG=0
WITH_FREETYPE=0
WITH_LIBJPEG=0
WITH_LIBWEBP=0
WITH_YAML=0
WITH_TIDY=0
WITH_MBSTRING=0
WITH_ONIGURUMA=0
WITH_OPENSSL=0
WITH_INTL=0
